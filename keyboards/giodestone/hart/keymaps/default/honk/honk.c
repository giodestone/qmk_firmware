#include "honk.h"

// const char honkInternal_honkBlankScreen[] PROGMEM = {
//     0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
//     0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
//     0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
//     0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
//     0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
//     0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
//     0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
//     0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
// }

/*
    How to generate images:
    1. Visit https://javl.github.io/image2cpp/
    2. Select image. Upload it.
    3. Under image settings click:
    3.1 Background Color: Black
    3.2 Invert Image Colors: True
    3.3 The Preview should show a white outline on a black background.
    4. Cycle Draw Mode between Horizontal and Vertical. Leave on vertical.
    5. Press Generate Code
    6. For every image the page must be refreshed. There appears to be some bug.
*/

const char honkInternal_honkStatic [] PROGMEM = {
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x1c, 0x1e, 0x19, 0xf5, 0x02, 0xcc, 0x30, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xe0, 0x18, 0x07, 0x00, 0x06, 0x09, 0x10, 0x10, 0x20,
	0x20, 0x20, 0x40, 0x40, 0x80, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x0c, 0xb0, 0xe0, 0xc0, 0x80, 0x00, 0x00,
	0x00, 0x80, 0x40, 0x20, 0x10, 0x10, 0x09, 0x05, 0x05, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x07, 0x0f, 0x17, 0x3b, 0x79, 0x3f, 0x1e, 0x0e,
	0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};


void honk_InitHonk(void)
{

}

void honk_DrawHonk(int HONK_X, int HONK_Y) {
    oled_set_cursor(HONK_X, HONK_Y);
    // oled_write_raw_P(honkInternal_honkStatic, 16*8);
    honkInternal_RenderLine(honkInternal_honkStatic, 16*8, 32);
}

void honk_ProcessUserInput(uint16_t keycode, keyrecord_t *record)
{

}

void honkInternal_RenderLine(const char *fullPicture, int imgTotalSize, int colWidth)
{
    for (int y = 0; y < imgTotalSize; y += colWidth)
    {
        oled_write_raw_P(&fullPicture[y], colWidth - 1);
        oled_advance_page(false);
    }
}




/*
Not touching keyboard -> Idle
Caps Lock -> Bell
Space -> Honking
Typing slow -> Walking
Typing fast -> Running
Pressing Ctrl -> Crouching

    HonkMovementState -> Idle, Walking, Running, Crouching
    HonkSpeakingState -> None, Honking, Bell

*/
